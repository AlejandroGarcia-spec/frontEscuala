<ion-header [translucent]="true">
  <ion-toolbar color="primary" class="ion-text-center">
    <ion-grid>
      <ion-row>
        <ion-col size="12">
          <ion-title>CREDENCIAL DIGITAL</ion-title>
          <ion-card-subtitle>REGISTRO DE ALUMNOS</ion-card-subtitle>
        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/" text=""></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true" class="ion-padding">
  <ion-card>
    <ion-card-header>
      <ion-card-title>Selecciona un grupo</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-select placeholder="Elige un grupo" [(ngModel)]="grupoSeleccionado" (ionChange)="filtrarAlumnosPorGrupo()">
        <ion-select-option *ngFor="let grupo of grupos" [value]="grupo.id">
          {{ grupo.nombre }}
        </ion-select-option>
      </ion-select>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Lista de Alumnos</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <div style="overflow-x: auto;">
        <table style="min-width: 900px; border-collapse: collapse; width: 100%;">
          <thead>
            <tr>
              <th style="padding: 10px; text-align: left; border-bottom: 1px solid #ddd;">ID</th>
              <th style="padding: 10px; text-align: left; border-bottom: 1px solid #ddd;">Nombre</th>
              <th style="padding: 10px; text-align: left; border-bottom: 1px solid #ddd;">Apellidos</th>
              <th style="padding: 10px; text-align: left; border-bottom: 1px solid #ddd;">Email</th>
              <th style="padding: 10px; text-align: left; border-bottom: 1px solid #ddd;">Tel√©fono</th>
              <th style="padding: 10px; text-align: left; border-bottom: 1px solid #ddd;">Tutor</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let alumno of alumnosFiltrados">
              <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{ alumno.id }}</td>
              <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{ alumno.nombre }}</td>
              <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{ alumno.apellido }}</td>
              <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{ alumno.correo }}</td>
              <td style="padding: 10px; border-bottom: 1px solid #ddd;">{{ alumno.telefono }}</td>
<td style="padding: 10px; border-bottom: 1px solid #ddd;">
  {{ alumno.tutor?.nombre }} {{ alumno.tutor?.apellido }}
</td>
            </tr>
          </tbody>
        </table>
      </div>
    </ion-card-content>

  </ion-card>

  <ion-grid fixed>
    <ion-row>
      <ion-col size="4">
        <ion-button expand="block" color="primary" (click)="abrirModalAgregarInstructor()" >Agregar Alumno</ion-button>
      </ion-col>
      <ion-col size="4">
        <ion-button expand="block" color="warning" (click)="abrirModalEditarInstructor()" >Modificar Alumno</ion-button>
      </ion-col>
      <ion-col size="4">
        <ion-button expand="block" color="danger" (click)="abrirModalEliminarInstructor()" >Eliminar Alumno</ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<app-footer></app-footer>
