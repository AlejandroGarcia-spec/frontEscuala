"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1952],{3817:(b,h,i)=>{i.d(h,{b:()=>e});var d=i(2615),u=i(9330);let e=(()=>{class l{constructor(n){this.http=n,this.apiUrl="https://backescolar-production.up.railway.app/grupos"}obtenerGrupos(){return this.http.get(`${this.apiUrl}/getAll`)}obtenerGrupoPorId(n){return this.http.get(`${this.apiUrl}/${n}`)}crearGrupo(n){return this.http.post(`${this.apiUrl}/post`,n)}actualizarGrupo(n,c){return this.http.patch(`${this.apiUrl}/${n}`,c)}eliminarGrupo(n){return this.http.delete(`${this.apiUrl}/${n}`)}static#t=this.\u0275fac=function(c){return new(c||l)(d.KVO(u.Qq))};static#o=this.\u0275prov=d.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},7320:(b,h,i)=>{i.r(h),i.d(h,{FormularioPageModule:()=>v});var d=i(2200),u=i(4341),e=i(9420),l=i(8132),g=i(467),n=i(602),c=i(5956),F=i(7532),P=i(9176),t=i(3664),m=i(2615),M=i(5123),x=i(8816);const C=(a,f)=>f.id;function _(a,f){if(1&a){const o=t.RV6();t.j41(0,"tr")(1,"td",12),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s(),t.j41(5,"td",12),t.EFF(6),t.k0s(),t.j41(7,"td",12),t.EFF(8),t.k0s(),t.j41(9,"td",12),t.EFF(10),t.k0s(),t.j41(11,"td",12),t.EFF(12),t.k0s(),t.j41(13,"td",12)(14,"ion-button",13),t.bIt("click",function(){const s=m.eBV(o).$implicit,p=t.XpG();return m.Njj(p.abrirModalEditarInstructor(s))}),t.nrm(15,"ion-icon",14),t.k0s(),t.j41(16,"ion-button",15),t.bIt("click",function(){const s=m.eBV(o).$implicit,p=t.XpG();return m.Njj(p.abrirModalEliminarInstructor(s))}),t.nrm(17,"ion-icon",16),t.k0s()()()}if(2&a){const o=f.$implicit,r=t.XpG();t.R7$(2),t.JRh(o.id),t.R7$(2),t.JRh(o.nombre),t.R7$(2),t.JRh(o.apellido),t.R7$(2),t.JRh(o.correo),t.R7$(2),t.JRh(o.telefono),t.R7$(2),t.JRh(r.obtenerNombresHijos(o))}}const y=[{path:"",component:(()=>{class a{constructor(o,r,s,p,O){this.fb=o,this.toastController=r,this.router=s,this.modalController=p,this.tutoresService=O,this.isEdit=!1,this.selectedFile=null,this.instructores=[],this.cargarTutores()}cargarTutores(){this.tutoresService.obtenerTutores().subscribe({next:o=>{this.instructores=o},error:o=>{console.error("Error al obtener tutores:",o),this.mostrarToast("Error al cargar tutores","danger")}})}mostrarToast(o,r){var s=this;return(0,g.A)(function*(){(yield s.toastController.create({message:o,duration:2e3,color:r})).present()})()}onFileSelected(o){this.selectedFile=o.target.files[0]}abrirModalAgregarInstructor(){var o=this;return(0,g.A)(function*(){const r=yield o.modalController.create({component:n.a,componentProps:{instructores:o.instructores}});yield r.present(),r.onDidDismiss().then(()=>{o.cargarTutores()})})()}abrirModalEditarInstructor(o){var r=this;return(0,g.A)(function*(){const s=yield r.modalController.create({component:c.e,componentProps:{tutorSeleccionado:o}});yield s.present(),s.onDidDismiss().then(()=>{r.cargarTutores()})})()}abrirModalEliminarInstructor(o){var r=this;return(0,g.A)(function*(){const s=yield r.modalController.create({component:F.K,componentProps:{tutorId:o.id}});yield s.present(),s.onDidDismiss().then(()=>{r.cargarTutores()})})()}cerrarModal(){this.modalController.dismiss()}obtenerNombresHijos(o){return o.alumno&&0!==o.alumno.length?o.alumno.map(r=>r.nombre).join(", "):"Sin hijos"}static#t=this.\u0275fac=function(r){return new(r||a)(t.rXU(u.ok),t.rXU(e.K_),t.rXU(M.Ix),t.rXU(e.W3),t.rXU(x.c))};static#o=this.\u0275cmp=t.VBU({type:a,selectors:[["app-formulario"]],decls:45,vars:2,consts:[[3,"translucent"],["color","primary",1,"ion-text-center"],["size","12"],["slot","start"],["defaultHref","/","text",""],[1,"ion-padding",3,"fullscreen"],[2,"overflow-x","auto"],[2,"min-width","900px","border-collapse","collapse","width","100%"],[2,"padding","10px","text-align","left","border-bottom","1px solid #ddd"],["fixed",""],["expand","block","color","success",3,"click"],["slot","start","name","person-add-outline"],[2,"padding","10px","border-bottom","1px solid #ddd"],["size","small","color","warning",3,"click"],["slot","icon-only","name","create-outline"],["size","small","color","danger",3,"click"],["slot","icon-only","name","trash-outline"]],template:function(r,s){1&r&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-grid")(3,"ion-row")(4,"ion-col",2)(5,"ion-title"),t.EFF(6,"CREDENCIAL DIGITAL"),t.k0s(),t.j41(7,"ion-card-subtitle"),t.EFF(8,"REGISTRO DE TUTORES"),t.k0s()()()(),t.j41(9,"ion-buttons",3),t.nrm(10,"ion-back-button",4),t.k0s()()(),t.j41(11,"ion-content",5)(12,"ion-card")(13,"ion-card-header")(14,"ion-card-title"),t.EFF(15,"Lista de Tutores"),t.k0s()(),t.j41(16,"ion-card-content")(17,"div",6)(18,"table",7)(19,"thead")(20,"tr")(21,"th",8),t.EFF(22,"ID"),t.k0s(),t.j41(23,"th",8),t.EFF(24,"Nombre"),t.k0s(),t.j41(25,"th",8),t.EFF(26,"Apellidos"),t.k0s(),t.j41(27,"th",8),t.EFF(28,"Email"),t.k0s(),t.j41(29,"th",8),t.EFF(30,"Tel\xe9fono"),t.k0s(),t.j41(31,"th",8),t.EFF(32,"Hijo(s)"),t.k0s(),t.j41(33,"th",8),t.EFF(34,"Acciones"),t.k0s()()(),t.j41(35,"tbody"),t.Z7z(36,_,18,6,"tr",null,C),t.k0s()()()()(),t.j41(38,"ion-grid",9)(39,"ion-row")(40,"ion-col",2)(41,"ion-button",10),t.bIt("click",function(){return s.abrirModalAgregarInstructor()}),t.nrm(42,"ion-icon",11),t.EFF(43," Agregar Tutor "),t.k0s()()()()(),t.nrm(44,"app-footer")),2&r&&(t.Y8G("translucent",!0),t.R7$(11),t.Y8G("fullscreen",!0),t.R7$(25),t.Dyx(s.instructores))},dependencies:[e.bv,e.Jm,e.QW,e.b_,e.I9,e.ME,e.HW,e.tN,e.hU,e.W9,e.lO,e.eU,e.iq,e.ln,e.BC,e.ai,e.el,u.X1,d.MD,P.t],styles:['@charset "UTF-8";ion-card-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}table[_ngcontent-%COMP%]{width:100%;min-width:900px;border-collapse:collapse;font-family:var(--ion-font-family, Arial, sans-serif);font-size:14px;background:#fff;box-shadow:0 2px 8px #00000012;border-radius:8px;overflow:hidden}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:#fff}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;font-weight:600;border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;vertical-align:middle}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-primary-tint);color:#000;transition:background-color .3s ease}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#000}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{text-align:center;white-space:nowrap}ion-button[_ngcontent-%COMP%]{margin:0 4px}@media (max-width: 768px){table[_ngcontent-%COMP%]{min-width:600px}}@media (max-width: 480px){table[_ngcontent-%COMP%]{min-width:100%;font-size:13px}thead[_ngcontent-%COMP%]{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:16px;box-shadow:0 2px 6px #0000000d;border-radius:8px;padding:12px 16px;background:#fff}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:none}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{justify-content:flex-start}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:600;color:var(--ion-color-primary)}}']})}return a})()}];let E=(()=>{class a{static#t=this.\u0275fac=function(r){return new(r||a)};static#o=this.\u0275mod=t.$C({type:a});static#r=this.\u0275inj=m.G2t({imports:[l.iI.forChild(y),l.iI]})}return a})(),v=(()=>{class a{static#t=this.\u0275fac=function(r){return new(r||a)};static#o=this.\u0275mod=t.$C({type:a});static#r=this.\u0275inj=m.G2t({imports:[d.MD,u.YN,e.bv,E]})}return a})()},8816:(b,h,i)=>{i.d(h,{c:()=>e});var d=i(2615),u=i(9330);let e=(()=>{class l{constructor(n){this.http=n,this.apiUrl="https://backescolar-production.up.railway.app/tutores"}crearTutor(n){return this.http.post(this.apiUrl,n)}obtenerTutores(){return this.http.get(this.apiUrl)}editarTutor(n,c){return this.http.patch(`${this.apiUrl}/${n}`,c)}obtenerTutorPorId(n){return this.http.get(`${this.apiUrl}/${n}`)}actualizarTutor(n,c){return this.http.patch(`${this.apiUrl}/${n}`,c)}eliminarTutor(n){return this.http.delete(`${this.apiUrl}/${n}`)}static#t=this.\u0275fac=function(c){return new(c||l)(d.KVO(u.Qq))};static#o=this.\u0275prov=d.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()}}]);