"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8377],{8377:(x,c,i)=>{i.r(c),i.d(c,{ListaPageModule:()=>F});var d=i(2200),a=i(4341),n=i(9420),h=i(8132),p=i(9176),m=i(9330),t=i(3664),f=i(6344);function C(r,O){if(1&r&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s()()),2&r){const o=O.$implicit;t.R7$(2),t.JRh(o.id),t.R7$(2),t.JRh(o.nombre),t.R7$(2),t.JRh(o.apellido),t.R7$(2),t.JRh(o.correo),t.R7$(2),t.JRh(o.telefono)}}let P=(()=>{class r{constructor(o){this.api=o,this.instructores=[],this.instructoresFiltrados=[],this.searchTerm="",this.idGrupo=0}ngOnInit(){const o=JSON.parse(localStorage.getItem("usuario"));o&&"maestro"===o.rol&&this.obtenerGrupoPorCorreo(o.correo)}obtenerGrupoPorCorreo(o){this.api.getPerfilMaestroPorCorreo(o).subscribe({next:e=>{this.idGrupo=e.grupoId,this.obtenerAlumnosPorGrupo()},error:e=>{console.error("Error al obtener el perfil del maestro:",e)}})}obtenerAlumnosPorGrupo(){this.api.getAlumnosPorGrupo(this.idGrupo).subscribe({next:o=>{console.log("Alumnos obtenidos:",o),this.instructores=o,this.instructoresFiltrados=[...o],this.ordenarPorApellido()},error:o=>{console.error("Error al obtener los alumnos:",o)}})}buscarAlumnos(){const o=this.searchTerm.toLowerCase();this.instructoresFiltrados=this.instructores.filter(e=>e.nombre.toLowerCase().includes(o)||e.apellido.toLowerCase().includes(o)||e.correo.toLowerCase().includes(o))}ordenarPorApellido(){this.instructoresFiltrados.sort((o,e)=>o.apellido.localeCompare(e.apellido))}static#t=this.\u0275fac=function(e){return new(e||r)(t.rXU(f.G))};static#o=this.\u0275cmp=t.VBU({type:r,selectors:[["app-lista"]],decls:38,vars:3,consts:[[3,"translucent"],["color","primary",1,"ion-text-center"],["slot","start"],["defaultHref","/","text",""],["color","light"],["size","small",1,"ion-text-center"],[1,"ion-padding",3,"fullscreen"],["placeholder","Buscar alumno...",3,"ngModelChange","ionInput","ngModel"],["fill","outline",3,"click"],[2,"overflow-x","auto","max-height","400px","overflow-y","auto"],[2,"min-width","900px","border-collapse","collapse","width","100%"]],template:function(e,s){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t.EFF(3,"CREDENCIAL DIGITAL"),t.k0s(),t.j41(4,"ion-buttons",2),t.nrm(5,"ion-back-button",3),t.k0s()(),t.j41(6,"ion-toolbar",4)(7,"ion-title",5)(8,"ion-card-subtitle"),t.EFF(9,"REGISTRO DE ALUMNOS"),t.k0s()()()(),t.j41(10,"ion-content",6)(11,"ion-card")(12,"ion-card-header")(13,"ion-card-title"),t.EFF(14,"Lista de Mis Alumnos"),t.k0s(),t.j41(15,"ion-item")(16,"ion-input",7),t.mxI("ngModelChange",function(l){return t.DH7(s.searchTerm,l)||(s.searchTerm=l),l}),t.bIt("ionInput",function(){return s.buscarAlumnos()}),t.k0s(),t.j41(17,"ion-button",8),t.bIt("click",function(){return s.ordenarPorApellido()}),t.EFF(18,"Ordenar por Apellido"),t.k0s()()(),t.j41(19,"ion-card-content")(20,"div",9)(21,"table",10)(22,"thead")(23,"tr")(24,"th"),t.EFF(25,"ID"),t.k0s(),t.j41(26,"th"),t.EFF(27,"Nombre"),t.k0s(),t.j41(28,"th"),t.EFF(29,"Apellidos"),t.k0s(),t.j41(30,"th"),t.EFF(31,"Email"),t.k0s(),t.j41(32,"th"),t.EFF(33,"Tel\xe9fono"),t.k0s()()(),t.j41(34,"tbody"),t.Z7z(35,C,11,5,"tr",null,t.fX1),t.k0s()()()()()(),t.nrm(37,"app-footer")),2&e&&(t.Y8G("translucent",!0),t.R7$(10),t.Y8G("fullscreen",!0),t.R7$(6),t.R50("ngModel",s.searchTerm),t.R7$(19),t.Dyx(s.instructoresFiltrados))},dependencies:[n.bv,n.Jm,n.QW,n.b_,n.I9,n.ME,n.HW,n.tN,n.W9,n.eU,n.$w,n.uz,n.BC,n.ai,n.Gw,n.el,p.t,d.MD,a.YN,a.BC,a.vS,m.q1],styles:['@charset "UTF-8";.table-container[_ngcontent-%COMP%]{max-height:420px;overflow-y:auto;overflow-x:auto;border:1px solid #ddd;border-radius:6px}table.styled-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;min-width:900px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#3880ff;color:#fff;z-index:10}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:2px solid #2665d6;box-shadow:inset 0 -1px #2665d6}thead[_ngcontent-%COMP%]   th.col-id[_ngcontent-%COMP%]{width:60px}thead[_ngcontent-%COMP%]   th.col-nombre[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]   th.col-apellidos[_ngcontent-%COMP%]{width:150px}thead[_ngcontent-%COMP%]   th.col-email[_ngcontent-%COMP%]{width:200px}thead[_ngcontent-%COMP%]   th.col-telefono[_ngcontent-%COMP%]{width:130px}thead[_ngcontent-%COMP%]   th.col-tutor[_ngcontent-%COMP%]{width:200px}thead[_ngcontent-%COMP%]   th.col-asistencia[_ngcontent-%COMP%]{width:160px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#f9f9f9;transition:background-color .3s ease}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f1f1f1}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e1eaff}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #ddd;vertical-align:middle}.asistencia-confirmada[_ngcontent-%COMP%]{color:green;font-weight:700;margin-left:8px}ion-toggle[_ngcontent-%COMP%]{vertical-align:middle;--handle-background-checked: #10dc60}ion-button[_ngcontent-%COMP%]{margin-left:8px;vertical-align:middle}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{white-space:nowrap}']})}return r})();var u=i(2615);const b=[{path:"",component:P}];let M=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#o=this.\u0275mod=t.$C({type:r});static#e=this.\u0275inj=u.G2t({imports:[h.iI.forChild(b),h.iI]})}return r})(),F=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#o=this.\u0275mod=t.$C({type:r});static#e=this.\u0275inj=u.G2t({imports:[d.MD,a.YN,n.bv,M]})}return r})()}}]);