"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6812],{6812:(g,h,s)=>{s.r(h),s.d(h,{VistaTutorPageModule:()=>C});var c=s(2200),d=s(4341),e=s(9420),n=s(8132),t=s(3664),r=s(6993),u=s(747),f=s(2037);const j=(o,l)=>l.id;function v(o,l){1&o&&(t.j41(0,"ion-item")(1,"ion-label")(2,"p",6),t.EFF(3,"No hay hijos registrados."),t.k0s()()())}function $(o,l){if(1&o&&(t.j41(0,"p",7),t.EFF(1),t.k0s()),2&o){const i=t.XpG().$implicit,a=t.XpG();t.R7$(),t.SpI("En la escuela desde ",a.formatoHora(i.entrada.DateEntrada))}}function F(o,l){if(1&o&&(t.j41(0,"p",8),t.EFF(1),t.nrm(2,"br"),t.EFF(3),t.k0s()),2&o){const i=t.XpG().$implicit,a=t.XpG();t.R7$(),t.SpI(" Sali\xf3 a las ",a.formatoHora(i.salida.DateSalida)," "),t.R7$(2),t.SpI("Recogido por: ",i.salida.recogidoPor," ")}}function T(o,l){1&o&&(t.j41(0,"p",9),t.EFF(1,"No ha llegado hoy"),t.k0s())}function E(o,l){if(1&o&&(t.j41(0,"ion-item")(1,"ion-label")(2,"h2"),t.EFF(3),t.k0s(),t.nVh(4,$,2,1,"p",7)(5,F,4,2,"p",8)(6,T,2,0,"p",9),t.k0s()()),2&o){const i=l.$implicit;t.R7$(3),t.Lme("",i.nombre," - ",i.grupo),t.R7$(),t.vxM(i.entrada&&!i.salida?4:i.salida?5:6)}}let I=(()=>{class o{constructor(i,a,p){this.alumnosService=i,this.entradasService=a,this.salidasService=p,this.hijos=[]}ngOnInit(){const i=localStorage.getItem("usuario"),a=i?JSON.parse(i):null;a&&a.id?(this.tutorId=a.id,this.cargarHijos()):console.error("No se encontr\xf3 el ID del tutor en localStorage")}cargarHijos(){this.entradasService.getHijosConEstado(this.tutorId).subscribe({next:i=>{this.hijos=i,console.log("hijos",this.hijos)},error:i=>{console.error("Error al obtener hijos",i)}})}formatoHora(i){return new Date(i).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}static#t=this.\u0275fac=function(a){return new(a||o)(t.rXU(r.p),t.rXU(u.f),t.rXU(f.j))};static#o=this.\u0275cmp=t.VBU({type:o,selectors:[["app-vista-tutor"]],decls:15,vars:2,consts:[[3,"translucent"],["color","primary",1,"ion-text-center"],["slot","start"],["defaultHref","/","text",""],["color","light"],["size","small",1,"ion-text-center"],[2,"color","gray","text-align","center"],[2,"color","green"],[2,"color","red"],[2,"color","gray"]],template:function(a,p){1&a&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t.EFF(3,"CREDENCIAL DIGITAL"),t.k0s(),t.j41(4,"ion-buttons",2),t.nrm(5,"ion-back-button",3),t.k0s()(),t.j41(6,"ion-toolbar",4)(7,"ion-title",5)(8,"ion-card-subtitle"),t.EFF(9,"ASISTENCIAS DE HIJOS"),t.k0s()()()(),t.j41(10,"ion-content")(11,"ion-list"),t.nVh(12,v,4,0,"ion-item"),t.Z7z(13,E,7,3,"ion-item",null,j),t.k0s()()),2&a&&(t.Y8G("translucent",!0),t.R7$(12),t.vxM(0===p.hijos.length?12:-1),t.R7$(),t.Dyx(p.hijos))},dependencies:[e.bv,e.QW,e.HW,e.W9,e.eU,e.uz,e.he,e.nf,e.BC,e.ai,e.el,c.MD],encapsulation:2})}return o})();var m=s(2615);const P=[{path:"",component:I}];let S=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#o=this.\u0275mod=t.$C({type:o});static#i=this.\u0275inj=m.G2t({imports:[n.iI.forChild(P),n.iI]})}return o})(),C=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#o=this.\u0275mod=t.$C({type:o});static#i=this.\u0275inj=m.G2t({imports:[c.MD,d.YN,e.bv,S]})}return o})()},6993:(g,h,s)=>{s.d(h,{p:()=>e});var c=s(2615),d=s(9330);let e=(()=>{class n{constructor(r){this.http=r,this.apiUrl="https://backescolar-production.up.railway.app/alumnos"}crearAlumno(r){return this.http.post(`${this.apiUrl}`,r)}obtenerAlumnos(){return this.http.get(this.apiUrl)}obtenerAlumnoPorId(r){return this.http.get(`${this.apiUrl}/${r}`)}obtenerPorTutor(r){return this.http.get(`${this.apiUrl}/tutor/${r}`)}obtenerPorGrupo(r){return this.http.get(`${this.apiUrl}/grupo/${r}`)}actualizarAlumno(r,u){return this.http.patch(`${this.apiUrl}/${r}`,u)}eliminarAlumno(r){return this.http.delete(`${this.apiUrl}/${r}`)}obtenerPorMaestro(r){return this.http.get(`${this.apiUrl}/maestro/${r}/alumnos`)}static#t=this.\u0275fac=function(u){return new(u||n)(c.KVO(d.Qq))};static#o=this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()}}]);