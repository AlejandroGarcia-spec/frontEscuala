"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5461],{5461:(v,f,l)=>{l.r(f),l.d(f,{ListaPageModule:()=>G});var p=l(2200),b=l(4341),s=l(9420),d=l(8132),g=l(467),a=l(5933),t=l(3664),u=l(2615),P=l(7705),M=l(5123),O=l(9330);let y=(()=>{class n{constructor(o){this.http=o,this.apiUrl="https://backescolar-production.up.railway.app/qr"}obtenerDatosQR(o,r){return this.http.get(`${this.apiUrl}/tutores/${o}/alumnos/${r}/datos-qr`)}static#t=this.\u0275fac=function(r){return new(r||n)(u.KVO(O.Qq))};static#o=this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var R=l(8816),E=l(6993),$=l(5705);function w(n,m){1&n&&(t.j41(0,"div",23)(1,"div",29),t.nrm(2,"ion-spinner",30),t.j41(3,"p",31),t.EFF(4,"Generando c\xf3digo QR..."),t.k0s()()())}function Q(n,m){if(1&n&&t.nrm(0,"img",34),2&n){const o=t.XpG(2).$implicit;t.Y8G("src",o.qrDataUrl,t.B4B)("alt","QR Code para "+o.nombre)}}function j(n,m){1&n&&(t.j41(0,"div",35),t.nrm(1,"ion-spinner",44),t.k0s())}function F(n,m){if(1&n&&(t.j41(0,"div",41),t.nrm(1,"ion-icon",45),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&n){const o=t.XpG(2).$implicit;t.R7$(),t.Y8G("name","tutor"===o.datosQR.autorizadoRecoger.tipo?"person-circle-outline":"people-outline"),t.R7$(2),t.E5c("Autorizado: ",o.datosQR.autorizadoRecoger.nombre," ",o.datosQR.autorizadoRecoger.apellido," (",o.datosQR.autorizadoRecoger.parentesco,")")}}function k(n,m){if(1&n){const o=t.RV6();t.j41(0,"div",24)(1,"div",32)(2,"div",33),t.nVh(3,Q,1,2,"img",34),t.nVh(4,j,2,0,"div",35),t.k0s(),t.j41(5,"div",36)(6,"ion-button",37),t.bIt("click",function(){u.eBV(o);const e=t.XpG().$index,i=t.XpG();return u.Njj(i.descargarQR(e))}),t.nrm(7,"ion-icon",38),t.k0s(),t.j41(8,"ion-button",37),t.bIt("click",function(){u.eBV(o);const e=t.XpG().$index,i=t.XpG();return u.Njj(i.compartirQR(e))}),t.nrm(9,"ion-icon",39),t.k0s()()(),t.j41(10,"div",40)(11,"div",41),t.nrm(12,"ion-icon",42),t.j41(13,"span"),t.EFF(14),t.k0s()(),t.nVh(15,F,4,4,"div",41),t.j41(16,"div",41),t.nrm(17,"ion-icon",43),t.j41(18,"span"),t.EFF(19,"V\xe1lido por 24 horas"),t.k0s()()()()}if(2&n){const o=t.XpG().$implicit;t.R7$(3),t.vxM(o.qrDataUrl?3:-1),t.R7$(),t.vxM(o.qrDataUrl?-1:4),t.R7$(10),t.SpI("C\xf3digo: ",o.codigo),t.R7$(),t.vxM(o.datosQR&&o.datosQR.autorizadoRecoger?15:-1)}}function T(n,m){1&n&&t.nrm(0,"ion-spinner",27)}function U(n,m){if(1&n&&t.nrm(0,"ion-icon",28),2&n){const o=t.XpG().$implicit;t.Y8G("name",o.codigo?"refresh-outline":"qr-code-outline")}}function D(n,m){if(1&n){const o=t.RV6();t.j41(0,"ion-card",14)(1,"ion-card-header")(2,"div",15)(3,"div",16)(4,"ion-avatar",17),t.nrm(5,"ion-icon",18),t.k0s(),t.j41(6,"div")(7,"ion-card-title",19),t.EFF(8),t.k0s(),t.j41(9,"ion-card-subtitle",20),t.nrm(10,"ion-icon",21),t.EFF(11),t.k0s()()(),t.j41(12,"ion-badge",22),t.EFF(13),t.k0s(),t.j41(14,"ion-badge",22),t.EFF(15),t.k0s()()(),t.j41(16,"ion-card-content"),t.nVh(17,w,5,0,"div",23),t.nVh(18,k,20,4,"div",24),t.j41(19,"div",25)(20,"ion-button",26),t.bIt("click",function(){const e=u.eBV(o).$index,i=t.XpG();return u.Njj(i.generarCodigoQR(e))}),t.nVh(21,T,1,0,"ion-spinner",27),t.nVh(22,U,1,1,"ion-icon",28),t.EFF(23),t.k0s()()()()}if(2&n){const o=m.$implicit,r=t.XpG();t.AVh("has-code",o.codigo),t.R7$(8),t.JRh(o.nombre),t.R7$(3),t.SpI(" ",o.grado," "),t.R7$(),t.Y8G("color",o.codigo?"success":"medium"),t.R7$(),t.SpI(" ",o.qrGenerated?"Activo":"Sin c\xf3digo"," "),t.R7$(),t.Y8G("color",r.getBadgeColor(o)),t.R7$(),t.SpI(" ",r.getBadgeText(o)," "),t.R7$(2),t.vxM(o.generandoQR?17:-1),t.R7$(),t.vxM(o.qrGenerated&&!o.generandoQR?18:-1),t.R7$(2),t.Y8G("fill",o.codigo?"outline":"solid")("color",o.codigo?"medium":"primary")("disabled",o.generandoQR),t.R7$(),t.vxM(o.generandoQR?21:-1),t.R7$(),t.vxM(o.generandoQR?-1:22),t.R7$(),t.SpI(" ",o.generandoQR?"Generando...":o.qrGenerated?"Regenerar QR":"Generar c\xf3digo QR"," ")}}const z=[{path:"",component:(()=>{class n{constructor(o,r,e,i,c,h,x,_,C){this.toastController=o,this.actionSheetCtrl=r,this.alertController=e,this.cdr=i,this.router=c,this._qrService=h,this._tutoreService=x,this._alumnoService=_,this._conocidoService=C,this.tutor=null,this.familiares=[],this.subscriptions=[]}ngOnInit(){this.inicializarDatos(),setInterval(()=>this.verificarExpiracionQR(),6e4)}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}inicializarDatos(){const o=this.obtenerUsuarioLocalStorage();o?.id?this.cargarDatosTutor(o.id):this.mostrarErrorYRedireccionar("No se encontr\xf3 informaci\xf3n del usuario")}obtenerUsuarioLocalStorage(){try{const o=localStorage.getItem("usuario");return o?JSON.parse(o):null}catch(o){return console.error("Error al parsear usuario de localStorage:",o),null}}cargarDatosTutor(o){const r=this._tutoreService.obtenerTutorPorId(o).subscribe({next:e=>{this.tutor=e,this.cargarHijos(o),this.cargarFamiliaresExternos(o)},error:e=>{console.error("Error al obtener los datos del tutor:",e),this.mostrarToast("Error al cargar informaci\xf3n del tutor","danger")}});this.subscriptions.push(r)}cargarHijos(o){const r=this._alumnoService.obtenerPorTutor(o).subscribe({next:e=>{this.tutor&&(this.tutor.hijos=e.map(i=>({...i,codigo:"",qrGenerated:!1,generandoQR:!1,qrDataUrl:"",datosQR:null})),this.cdr.detectChanges())},error:e=>{console.error("Error al obtener hijos del tutor:",e),this.mostrarToast("Error al cargar informaci\xf3n de los hijos","danger")}});this.subscriptions.push(r)}cargarFamiliaresExternos(o){const r=this._conocidoService.getByTutorId(o).subscribe({next:e=>{this.familiares=e},error:e=>{console.error("Error al obtener familiares externos:",e),this.mostrarToast("Error al cargar familiares","warning")}});this.subscriptions.push(r)}trackByHijo(o,r){return r.id}generarCodigoQR(o){var r=this;return(0,g.A)(function*(){if(!r.tutor||!r.tutor.hijos[o])return void r.mostrarToast("Error: No se encontr\xf3 informaci\xf3n del hijo","danger");const e=r.tutor.hijos[o];try{yield(yield r.crearActionSheet(e,o)).present()}catch(i){console.error("Error al crear ActionSheet:",i),r.mostrarToast("Error al mostrar opciones","danger")}})()}crearActionSheet(o,r){var e=this;return(0,g.A)(function*(){const i=[];return e.tutor&&i.push({text:`${e.tutor.nombre} ${e.tutor.apellido} (Tutor)`,icon:"person-circle",handler:()=>{e.generarQRParaPersona(r,{tipo:"tutor",nombre:e.tutor.nombre,apellido:e.tutor.apellido,parentesco:"Tutor"})}}),e.familiares.forEach(c=>{i.push({text:`${c.nombre} ${c.apellido} (${c.parentesco||"familiar"})`,icon:"people",handler:()=>{e.generarQRParaPersona(r,{tipo:"familiar",id:c.id,nombre:c.nombre,apellido:c.apellido,parentesco:c.parentesco})}})}),i.push({text:"Cancelar",icon:"close",role:"cancel"}),e.actionSheetCtrl.create({header:`Generar QR para ${o.nombre}`,subHeader:"\xbfQui\xe9n va a recoger al estudiante?",buttons:i})})()}generarQRParaPersona(o,r){var e=this;return(0,g.A)(function*(){if(!e.tutor||!e.tutor.hijos[o])return void e.mostrarToast("Error: Datos no v\xe1lidos","danger");const i=e.tutor.hijos[o];i.generandoQR=!0,e.cdr.detectChanges();try{let c;c="tutor"===r.tipo?{id:e.tutor.id,nombre:e.tutor.nombre,apellido:e.tutor.apellido,tipo:"tutor",parentesco:"tutor"}:yield e.obtenerDatosFamiliar(r,i.id);const h=new Date,x=new Date(h.getTime()+432e5),_={estudiante:{id:i.id,nombre:i.nombre,grado:i.grupo.nombre},autorizadoRecoger:c,fechaGeneracion:h.toISOString(),fechaExpiracion:x.toISOString(),codigoUnico:e.generarCodigoUnico()},C=yield e.generarImagenQR(_);e.actualizarDatosHijo(i,_,C),e.mostrarToast(`QR generado para ${c.nombre} ${c.apellido}`,"success")}catch(c){console.error("Error generando QR:",c),e.mostrarToast("Error al generar el QR. Int\xe9ntalo nuevamente.","danger")}finally{i.generandoQR=!1,e.cdr.detectChanges()}})()}obtenerDatosFamiliar(o,r){var e=this;return(0,g.A)(function*(){try{if(!e.tutor)throw new Error("No hay tutor disponible");const c=(yield e._qrService.obtenerDatosQR(e.tutor.id,r).toPromise())?.find(h=>h.idConocido===o.id);if(c)return{nombre:c.nombreConocido,apellido:c.apellidoConocido,tipo:"familiar",parentesco:c.parentesco,id:c.idConocido}}catch(i){console.warn("No se pudieron obtener datos del backend, usando datos locales:",i)}return{nombre:o.nombre,apellido:o.apellido,tipo:"familiar",parentesco:o.parentesco,id:o.id}})()}generarCodigoUnico(){return`${Date.now().toString(36)}${Math.random().toString(36).substr(2,8)}`.toUpperCase()}generarImagenQR(o){return(0,g.A)(function*(){const r=JSON.stringify(o);return a.dY(r,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"})})()}actualizarDatosHijo(o,r,e){o.codigo=r.codigoUnico,o.qrGenerated=!0,o.qrDataUrl=e,o.datosQR=r,this.cdr.detectChanges()}descargarQR(o){var r=this;return(0,g.A)(function*(){if(!r.tutor||!r.tutor.hijos[o])return void r.mostrarToast("Error: No se encontr\xf3 el QR","danger");const e=r.tutor.hijos[o];if(e.qrDataUrl)try{const i=document.createElement("a");i.download=`QR-${e.nombre}-${e.codigo||"sin-codigo"}.png`,i.href=e.qrDataUrl,document.body.appendChild(i),i.click(),document.body.removeChild(i),r.mostrarToast("QR descargado exitosamente","success")}catch(i){console.error("Error al descargar QR:",i),r.mostrarToast("Error al descargar el QR","danger")}else r.mostrarToast("No hay c\xf3digo QR generado para descargar","warning")})()}compartirQR(o){var r=this;return(0,g.A)(function*(){if(!r.tutor||!r.tutor.hijos[o])return void r.mostrarToast("Error: No se encontr\xf3 el QR","danger");const e=r.tutor.hijos[o];if(e.qrDataUrl)try{if(navigator.share){const c=yield(yield fetch(e.qrDataUrl)).blob(),h=new File([c],`QR-${e.nombre}.png`,{type:"image/png"});yield navigator.share({title:`QR de acceso para ${e.nombre}`,text:`C\xf3digo: ${e.codigo}`,files:[h]}),r.mostrarToast("QR compartido exitosamente","success")}else yield navigator.clipboard.writeText(e.qrDataUrl),r.mostrarToast("Imagen copiada al portapapeles","success")}catch(i){console.error("Error al compartir QR:",i),r.mostrarToast("Error al compartir. Usa la opci\xf3n de descarga.","warning")}else r.mostrarToast("No hay c\xf3digo QR generado para compartir","warning")})()}mostrarToast(o){var r=this;return(0,g.A)(function*(e,i="success"){yield(yield r.toastController.create({message:e,duration:3e3,color:i,position:"bottom",buttons:[{text:"Cerrar",role:"cancel"}]})).present()}).apply(this,arguments)}mostrarErrorYRedireccionar(o){var r=this;return(0,g.A)(function*(){yield(yield r.alertController.create({header:"Error de Autenticaci\xf3n",message:o,buttons:[{text:"Ir al Login",handler:()=>{r.router.navigate(["/login"])}}],backdropDismiss:!1})).present()})()}verificarExpiracionQR(){if(!this.tutor)return;const o=new Date;this.tutor.hijos.forEach(r=>{if(r.datosQR?.fechaExpiracion){const e=new Date(r.datosQR.fechaExpiracion);o>e&&(r.qrGenerated=!1,r.qrDataUrl="",r.codigo="",r.datosQR=null)}})}getBadgeColor(o){if(!o.qrGenerated||!o.datosQR?.fechaExpiracion)return"medium";const r=new Date(o.datosQR.fechaExpiracion);return new Date>r?"danger":"success"}getBadgeText(o){if(!o.qrGenerated)return"Sin c\xf3digo";if(!o.datosQR?.fechaExpiracion)return"Activo";const r=new Date(o.datosQR.fechaExpiracion);return new Date>r?"Expirado":"Activo"}refrescarDatos(o){var r=this;return(0,g.A)(function*(){try{const e=r.obtenerUsuarioLocalStorage();e?.id&&r.cargarDatosTutor(e.id)}catch(e){console.error("Error al refrescar datos:",e),r.mostrarToast("Error al refrescar datos","danger")}finally{o&&o.target.complete()}})()}static#t=this.\u0275fac=function(r){return new(r||n)(t.rXU(s.K_),t.rXU(s.GD),t.rXU(s.hG),t.rXU(P.gRc),t.rXU(M.Ix),t.rXU(y),t.rXU(R.c),t.rXU(E.p),t.rXU($.b))};static#o=this.\u0275cmp=t.VBU({type:n,selectors:[["app-lista"]],decls:21,vars:4,consts:[[3,"translucent"],["color","primary",1,"ion-text-center"],["slot","start"],["defaultHref","/","text",""],["color","light"],["size","small",1,"ion-text-center"],[1,"ion-padding",3,"fullscreen"],[1,"welcome-section"],[1,"tutor-avatar"],["name","person-circle","size","large"],[1,"welcome-title"],[1,"welcome-subtitle"],[1,"children-section"],[1,"child-card",3,"has-code"],[1,"child-card"],[1,"card-header-content"],[1,"child-info"],["size","small",1,"child-avatar"],["name","school-outline"],[1,"child-name"],[1,"child-grade"],["name","ribbon-outline","size","small"],[1,"status-badge",3,"color"],[1,"qr-loading"],[1,"code-section"],[1,"action-buttons"],["expand","block",1,"generate-button",3,"click","fill","color","disabled"],["name","crescent","slot","start"],["slot","start",3,"name"],[1,"loading-container"],["name","crescent","color","primary"],[1,"loading-text"],[1,"qr-container"],[1,"qr-code-wrapper"],["width","200","height","200",1,"qr-image",3,"src","alt"],[1,"qr-overlay"],[1,"qr-actions"],["fill","clear","size","small",1,"action-button",3,"click"],["name","download-outline","slot","icon-only"],["name","share-outline","slot","icon-only"],[1,"code-info"],[1,"info-item"],["name","qr-code-outline","size","small","color","primary"],["name","time-outline","size","small","color","warning"],["name","crescent"],["size","small","color","success",3,"name"]],template:function(r,e){1&r&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t.EFF(3,"CREDENCIAL DIGITAL"),t.k0s(),t.j41(4,"ion-buttons",2),t.nrm(5,"ion-back-button",3),t.k0s()(),t.j41(6,"ion-toolbar",4)(7,"ion-title",5)(8,"ion-card-subtitle"),t.EFF(9,"GENERAR QR"),t.k0s()()()(),t.j41(10,"ion-content",6)(11,"div",7)(12,"ion-avatar",8),t.nrm(13,"ion-icon",9),t.k0s(),t.j41(14,"h1",10),t.EFF(15),t.k0s(),t.j41(16,"p",11),t.EFF(17,"Gestiona los c\xf3digos de acceso de tus hijos"),t.k0s()(),t.j41(18,"div",12),t.Z7z(19,D,24,16,"ion-card",13,e.trackByHijo,!0),t.k0s()()),2&r&&(t.Y8G("translucent",!0),t.R7$(10),t.Y8G("fullscreen",!0),t.R7$(5),t.Lme("\xa1Hola, ",null==e.tutor?null:e.tutor.nombre," ",null==e.tutor?null:e.tutor.apellido,"!"),t.R7$(4),t.Dyx(null==e.tutor?null:e.tutor.hijos))},dependencies:[s.bv,s.mC,s.In,s.Jm,s.QW,s.b_,s.I9,s.ME,s.HW,s.tN,s.W9,s.eU,s.iq,s.w2,s.BC,s.ai,s.el,p.MD],styles:['@charset "UTF-8";.welcome-section[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem;background:linear-gradient(135deg,var(--ion-color-primary-tint),var(--ion-color-primary));border-radius:1rem;margin-bottom:2rem;color:#fff}.tutor-avatar[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 1rem;background:#fff3;border-radius:50%;display:flex;align-items:center;justify-content:center}.tutor-avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:3rem;color:#fff}.welcome-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0 0 .5rem}.welcome-subtitle[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9;margin:0}.children-section[_ngcontent-%COMP%]{margin-top:1rem}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.2rem;font-weight:600;margin-bottom:1rem;color:var(--ion-color-dark)}.child-card[_ngcontent-%COMP%]{margin-bottom:1rem;border-radius:1rem;box-shadow:0 2px 8px #0000001a;transition:transform .2s ease,box-shadow .2s ease}.child-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000026}.child-card.has-code[_ngcontent-%COMP%]{border-left:4px solid var(--ion-color-success)}.card-header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.child-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.child-avatar[_ngcontent-%COMP%]{background:var(--ion-color-light);display:flex;align-items:center;justify-content:center}.child-avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.child-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:.25rem}.child-grade[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.9rem}.status-badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500}.qr-loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:2rem;background:var(--ion-color-light);border-radius:1rem;margin-bottom:1rem}.qr-loading[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.qr-loading[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{margin-top:1rem;color:var(--ion-color-medium);font-size:.9rem;font-weight:500}.code-section[_ngcontent-%COMP%]{background:var(--ion-color-light);border-radius:1rem;padding:1.5rem;margin-bottom:1rem;text-align:center}.qr-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.qr-code-wrapper[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1rem;padding:1rem;box-shadow:0 4px 12px #0000001a;border:2px solid var(--ion-color-light-shade)}.qr-code-wrapper[_ngcontent-%COMP%]   .qr-image[_ngcontent-%COMP%]{display:block;width:200px;height:200px;border-radius:.5rem;object-fit:contain;background:#fff}.qr-canvas[_ngcontent-%COMP%]{display:none}.qr-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ffffffe6;display:flex;align-items:center;justify-content:center;border-radius:1rem}.qr-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center}.action-button[_ngcontent-%COMP%]{--color: var(--ion-color-medium);--background: var(--ion-color-light-shade);--border-radius: 50%;width:40px;height:40px;transition:all .2s ease}.action-button[_ngcontent-%COMP%]:hover{--color: var(--ion-color-primary);--background: var(--ion-color-primary-tint);transform:scale(1.05)}.code-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-top:1rem;padding-top:1rem;border-top:1px solid var(--ion-color-light-shade)}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:var(--ion-color-dark);justify-content:center;font-weight:500}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.generate-button[_ngcontent-%COMP%]{--border-radius: .75rem;font-weight:600;height:44px;transition:all .2s ease}.generate-button[_ngcontent-%COMP%]:not([disabled]):hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.revoke-button[_ngcontent-%COMP%]{align-self:center;font-size:.9rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:var(--ion-color-medium)}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--ion-color-dark)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 2rem;font-size:.9rem}@media (min-width: 768px){.action-buttons[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.revoke-button[_ngcontent-%COMP%]{align-self:auto}.qr-actions[_ngcontent-%COMP%]{flex-direction:row;gap:1rem}}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Hack,monospace;min-height:100vh;background:#fff;padding-bottom:70px}.navbar-bottom[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background:#1976d2;box-shadow:0 -2px 10px #00000026;padding:10px 0;display:flex;justify-content:center;z-index:1000}.menuItems[_ngcontent-%COMP%]{list-style:none;display:flex;gap:40px}.menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#e3f2fd;font-size:20px;font-weight:500;text-transform:none;position:relative;transition:all .4s ease-in-out;padding:5px 10px;border-radius:6px}.menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:attr(data-item);position:absolute;top:0;left:0;width:0;overflow:hidden;color:#bbdefb;transition:width .4s ease-in-out}.menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:before{width:100%}.menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#1565c0}@media (max-width: 600px){.menuItems[_ngcontent-%COMP%]{gap:20px}.menuItems[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}}.qr-container.expired[_ngcontent-%COMP%]{opacity:.6;filter:grayscale(50%)}.qr-expired-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ffc107e6;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#000;font-weight:700;border-radius:8px}.qr-expired-overlay[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-bottom:5px}.qr-expired-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.expired-warning[_ngcontent-%COMP%]{margin-bottom:16px;border-left:4px solid var(--ion-color-warning)}.expired-warning[_ngcontent-%COMP%]   .expired-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.expired-warning[_ngcontent-%COMP%]   .expired-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-warning);flex-shrink:0}.expired-warning[_ngcontent-%COMP%]   .expired-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}.expired-warning[_ngcontent-%COMP%]   .expired-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px;font-weight:600;color:var(--ion-color-warning-contrast)}.expired-warning[_ngcontent-%COMP%]   .expired-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:var(--ion-color-warning-contrast);opacity:.8}.expired-text[_ngcontent-%COMP%]{color:var(--ion-color-danger)!important;font-weight:500}.qr-image[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;background:#fff;transition:all .3s ease}.qr-code-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.action-button[disabled][_ngcontent-%COMP%]{opacity:.4}.qr-container[_ngcontent-%COMP%]:not(.expired)   .qr-image[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0000001a}.status-badge[_ngcontent-%COMP%]{font-weight:600;font-size:11px}']})}return n})()}];let I=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#o=this.\u0275mod=t.$C({type:n});static#r=this.\u0275inj=u.G2t({imports:[d.iI.forChild(z),d.iI]})}return n})(),G=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#o=this.\u0275mod=t.$C({type:n});static#r=this.\u0275inj=u.G2t({imports:[p.MD,b.YN,s.bv,I]})}return n})()},6993:(v,f,l)=>{l.d(f,{p:()=>s});var p=l(2615),b=l(9330);let s=(()=>{class d{constructor(a){this.http=a,this.apiUrl="https://backescolar-production.up.railway.app/alumnos"}crearAlumno(a){return this.http.post(`${this.apiUrl}`,a)}obtenerAlumnos(){return this.http.get(this.apiUrl)}obtenerAlumnoPorId(a){return this.http.get(`${this.apiUrl}/${a}`)}obtenerPorTutor(a){return this.http.get(`${this.apiUrl}/tutor/${a}`)}obtenerPorGrupo(a){return this.http.get(`${this.apiUrl}/grupo/${a}`)}actualizarAlumno(a,t){return this.http.patch(`${this.apiUrl}/${a}`,t)}eliminarAlumno(a){return this.http.delete(`${this.apiUrl}/${a}`)}obtenerPorMaestro(a){return this.http.get(`${this.apiUrl}/maestro/${a}/alumnos`)}static#t=this.\u0275fac=function(t){return new(t||d)(p.KVO(b.Qq))};static#o=this.\u0275prov=p.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},8816:(v,f,l)=>{l.d(f,{c:()=>s});var p=l(2615),b=l(9330);let s=(()=>{class d{constructor(a){this.http=a,this.apiUrl="https://backescolar-production.up.railway.app/tutores"}crearTutor(a){return this.http.post(this.apiUrl,a)}obtenerTutores(){return this.http.get(this.apiUrl)}editarTutor(a,t){return this.http.patch(`${this.apiUrl}/${a}`,t)}obtenerTutorPorId(a){return this.http.get(`${this.apiUrl}/${a}`)}actualizarTutor(a,t){return this.http.patch(`${this.apiUrl}/${a}`,t)}eliminarTutor(a){return this.http.delete(`${this.apiUrl}/${a}`)}static#t=this.\u0275fac=function(t){return new(t||d)(p.KVO(b.Qq))};static#o=this.\u0275prov=p.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()}}]);