"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2003],{3817:(b,m,i)=>{i.d(m,{b:()=>r});var p=i(2615),u=i(9330);let r=(()=>{class c{constructor(s){this.http=s,this.apiUrl="https://backescolar-production.up.railway.app/grupos"}obtenerGrupos(){return this.http.get(`${this.apiUrl}/getAll`)}obtenerGrupoPorId(s){return this.http.get(`${this.apiUrl}/${s}`)}crearGrupo(s){return this.http.post(`${this.apiUrl}/post`,s)}actualizarGrupo(s,g){return this.http.patch(`${this.apiUrl}/${s}`,g)}eliminarGrupo(s){return this.http.delete(`${this.apiUrl}/${s}`)}static#t=this.\u0275fac=function(g){return new(g||c)(p.KVO(u.Qq))};static#o=this.\u0275prov=p.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},4384:(b,m,i)=>{i.r(m),i.d(m,{GruposPageModule:()=>k});var p=i(2200),u=i(4341),r=i(9420),c=i(8132),f=i(467),s=i(9402),g=i(3562),_=i(1446),C=i(9176),t=i(3664),l=i(2615),P=i(3817);const x=(n,d)=>d.id;function G(n,d){if(1&n){const o=t.RV6();t.j41(0,"tr")(1,"td",12),t.EFF(2),t.k0s(),t.j41(3,"td",13),t.EFF(4),t.k0s(),t.j41(5,"td",14)(6,"ion-button",15),t.bIt("click",function(){const a=l.eBV(o).$implicit,h=t.XpG(2);return l.Njj(h.abrirModalEditarGrupo(a))}),t.nrm(7,"ion-icon",16),t.k0s(),t.j41(8,"ion-button",17),t.bIt("click",function(){const a=l.eBV(o).$implicit,h=t.XpG(2);return l.Njj(h.abrirModalEliminarGrupo(a))}),t.nrm(9,"ion-icon",18),t.k0s()()()}if(2&n){const o=d.$implicit;t.R7$(2),t.JRh(o.id),t.R7$(2),t.JRh(o.nombre)}}function M(n,d){if(1&n&&(t.j41(0,"tbody"),t.Z7z(1,G,10,2,"tr",null,x),t.k0s()),2&n){const o=t.XpG();t.R7$(),t.Dyx(o.grupos)}}function y(n,d){1&n&&(t.j41(0,"tr")(1,"td",19),t.EFF(2,"No hay grupos disponibles."),t.k0s()())}function v(n,d){1&n&&(t.j41(0,"ion-note",20),t.EFF(1,"No se encontraron grupos."),t.k0s())}const O=[{path:"",component:(()=>{class n{constructor(o,e,a){this.modalController=o,this.toastController=e,this.grupoService=a,this.carreras=[],this.grupos=[],this.selectedCarreraId="",this.actualizarGrupos()}actualizarGrupos(){this.grupoService.obtenerGrupos().subscribe(o=>{this.grupos=o},o=>{console.error("Error al obtener grupos:",o),this.grupos=[]})}abrirModalAgregarGrupo(){var o=this;return(0,f.A)(function*(){const e=yield o.modalController.create({component:s.B,componentProps:{carreras:o.carreras}});yield e.present(),e.onDidDismiss().then(()=>{o.actualizarGrupos()})})()}abrirModalEditarGrupo(o){var e=this;return(0,f.A)(function*(){const a=yield e.modalController.create({component:g.b,componentProps:{grupoCarreraId:o.id,grupoSeleccionado:o}});yield a.present(),a.onDidDismiss().then(()=>{e.actualizarGrupos()})})()}abrirModalEliminarGrupo(o){var e=this;return(0,f.A)(function*(){const a=yield e.modalController.create({component:_.l,componentProps:{grupoId:o.id,grupoCarreraId:o.id}});yield a.present(),a.onDidDismiss().then(()=>{e.actualizarGrupos()})})()}static#t=this.\u0275fac=function(e){return new(e||n)(t.rXU(r.W3),t.rXU(r.K_),t.rXU(P.b))};static#o=this.\u0275cmp=t.VBU({type:n,selectors:[["app-grupos"]],decls:40,vars:3,consts:[["sinGrupos",""],[3,"translucent"],["color","primary",1,"ion-text-center"],["size","12"],["slot","start"],["defaultHref","/","text",""],[3,"fullscreen"],["fixed",""],[1,"ion-text-center"],[1,"tabla-grupos"],["expand","block","color","success",3,"click"],["slot","start","name","person-add-outline"],["data-label","ID"],["data-label","Grupo"],["data-label","Acciones",1,"acciones"],["size","small","fill","clear","color","warning",3,"click"],["slot","icon-only","name","create-outline"],["size","small","fill","clear","color","danger",3,"click"],["slot","icon-only","name","trash-outline"],["colspan","3",2,"text-align","center"],["color","danger",1,"mensaje-vacio"]],template:function(e,a){if(1&e){const h=t.RV6();t.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-grid")(3,"ion-row")(4,"ion-col",3)(5,"ion-title"),t.EFF(6,"CREDENCIAL DIGITAL"),t.k0s(),t.j41(7,"ion-card-subtitle"),t.EFF(8,"Grupos"),t.k0s()()()(),t.j41(9,"ion-buttons",4),t.nrm(10,"ion-back-button",5),t.k0s()()(),t.j41(11,"ion-content",6)(12,"ion-grid",7)(13,"ion-row")(14,"ion-col",3)(15,"ion-card")(16,"ion-card-header")(17,"ion-card-title",8),t.EFF(18,"LISTADO DE GRUPOS"),t.k0s()(),t.j41(19,"ion-card-content")(20,"div")(21,"table",9)(22,"thead")(23,"tr")(24,"th"),t.EFF(25,"ID"),t.k0s(),t.j41(26,"th"),t.EFF(27,"Grupo"),t.k0s(),t.j41(28,"th"),t.EFF(29,"Acciones"),t.k0s()()(),t.nVh(30,M,3,0,"tbody")(31,y,3,0,"tr"),t.k0s(),t.DNE(32,v,2,0,"ng-template",null,0,t.C5r),t.k0s()()()()(),t.j41(34,"ion-row")(35,"ion-col",3)(36,"ion-button",10),t.bIt("click",function(){return l.eBV(h),l.Njj(a.abrirModalAgregarGrupo())}),t.nrm(37,"ion-icon",11),t.EFF(38," Agregar Grupo "),t.k0s()()()()(),t.nrm(39,"app-footer")}2&e&&(t.Y8G("translucent",!0),t.R7$(11),t.Y8G("fullscreen",!0),t.R7$(19),t.vxM(a.grupos.length>0?30:31))},dependencies:[r.bv,r.Jm,r.QW,r.b_,r.I9,r.ME,r.HW,r.tN,r.hU,r.W9,r.lO,r.eU,r.iq,r.JI,r.ln,r.BC,r.ai,r.el,u.X1,p.MD,C.t,u.YN],styles:['@charset "UTF-8";ion-card-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}table[_ngcontent-%COMP%]{width:100%;min-width:900px;border-collapse:collapse;font-family:var(--ion-font-family, Arial, sans-serif);font-size:14px;background:#fff;box-shadow:0 2px 8px #00000012;border-radius:8px;overflow:hidden}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:#fff}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;font-weight:600;border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;vertical-align:middle}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-primary-tint);color:#1c1c1c;transition:background-color .3s ease}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#1c1c1c}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{text-align:center;white-space:nowrap}ion-button[_ngcontent-%COMP%]{margin:0 4px}@media (max-width: 768px){table[_ngcontent-%COMP%]{min-width:600px}}@media (max-width: 480px){table[_ngcontent-%COMP%]{min-width:100%;font-size:13px}thead[_ngcontent-%COMP%]{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:16px;box-shadow:0 2px 6px #0000000d;border-radius:8px;padding:12px 16px;background:#fff}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:none}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{justify-content:flex-start}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:600;color:var(--ion-color-primary)}}']})}return n})()}];let F=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#o=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[c.iI.forChild(O),c.iI]})}return n})(),k=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#o=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[p.MD,u.YN,r.bv,F]})}return n})()}}]);