"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7079],{7079:(j,g,a)=>{a.r(g),a.d(g,{PerfilPadrePageModule:()=>O});var u=a(2200),h=a(4341),e=a(9420),l=a(8132),s=a(467),d=a(9176),t=a(3664),c=a(8010),f=a(6344),m=a(5123);let C=(()=>{class r{constructor(o,n,i,v,x,F,y,b){this.authService=o,this.toastController=n,this.menu=i,this.modalCtrl=v,this.alertCtrl=x,this.api=F,this.authS=y,this.router=b,this.nombre="",this.apellido="",this.telefono="",this.correo="",this.hijos="",this.hijo_grupo="",this.grupo="",this.tipo_usuario="Tutor",this.qrCode="",this.imagen=""}ngOnInit(){const o=JSON.parse(localStorage.getItem("usuario"));o&&"tutor"===o.rol&&this.obtenerPerfilTutor(o.correo)}obtenerPerfilTutor(o){this.api.getPerfilTutorPorCorreo(o).subscribe({next:n=>{console.log("Perfil del tutor:",n),this.nombre=n.nombre,this.apellido=n.apellido,this.correo=n.correo,this.telefono=n.telefono,this.hijos=n.alumno?.length||0,this.hijo_grupo=n.alumno?.length>0?n.alumno.map(i=>`${i.nombre} (${i.grupo?.nombre||"Sin grupo"})`).join(", "):"Sin hijos registrados",this.imagen=n.imagenBase64?.startsWith("data:image")?n.imagenBase64:n.imagenBase64?`data:image/jpeg;base64,${n.imagenBase64}`:"assets/img/avatar.png"},error:n=>{console.error("Error al obtener el perfil del tutor:",n)}})}presentToast2(o){var n=this;return(0,s.A)(function*(){yield(yield n.toastController.create({message:o,position:"middle",color:"danger",duration:2500})).present()})()}logout(){var o=this;return(0,s.A)(function*(){yield(yield o.alertCtrl.create({header:"Cerrar sesi\xf3n",message:"\xbfEst\xe1s seguro de que deseas cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Cerrar sesi\xf3n",handler:()=>{o.menu.close().then(()=>{o.authS.logout(),o.router.navigate(["/login"])})}}]})).present()})()}presentToast(o){var n=this;return(0,s.A)(function*(){yield(yield n.toastController.create({message:o,duration:2e3,position:"top",color:"danger"})).present()})()}static#t=this.\u0275fac=function(n){return new(n||r)(t.rXU(c.u),t.rXU(e.K_),t.rXU(e._t),t.rXU(e.W3),t.rXU(e.hG),t.rXU(f.G),t.rXU(c.u),t.rXU(m.Ix))};static#n=this.\u0275cmp=t.VBU({type:r,selectors:[["app-perfil-padre"]],decls:47,vars:12,consts:[[3,"translucent"],["color","primary",1,"ion-text-center"],["size","12"],["slot","start"],["defaultHref","/","text",""],[1,"page-usuario",3,"fullscreen"],["fixed",""],[1,"ion-justify-content-center"],["sizeLg","3","sizeMd","4","sizeSm","6","sizeXs","12"],[1,"e-card","playing"],[1,"wave"],[1,"infotop"],[3,"src","alt"]],template:function(n,i){1&n&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-grid")(3,"ion-row")(4,"ion-col",2)(5,"ion-title"),t.EFF(6,"CREDENCIAL DIGITAL"),t.k0s(),t.j41(7,"ion-card-subtitle"),t.EFF(8,"PERFIL PADRE"),t.k0s()()()(),t.j41(9,"ion-buttons",3),t.nrm(10,"ion-back-button",4),t.k0s()()(),t.j41(11,"ion-content",5)(12,"ion-grid",6)(13,"ion-row",7)(14,"ion-col",8)(15,"div",9),t.nrm(16,"div",10)(17,"div",10)(18,"div",10),t.j41(19,"div",11)(20,"ion-avatar"),t.nrm(21,"img",12),t.k0s(),t.j41(22,"h2"),t.EFF(23),t.k0s(),t.j41(24,"h2"),t.EFF(25),t.k0s(),t.j41(26,"p")(27,"strong"),t.EFF(28,"Tipo de usuario:"),t.k0s(),t.EFF(29),t.k0s(),t.j41(30,"p")(31,"strong"),t.EFF(32,"Correo Electroico:"),t.k0s(),t.EFF(33),t.k0s(),t.j41(34,"p")(35,"strong"),t.EFF(36,"Numero Telefonico:"),t.k0s(),t.EFF(37),t.k0s(),t.j41(38,"p")(39,"strong"),t.EFF(40,"Numero de hijos:"),t.k0s(),t.EFF(41),t.k0s(),t.j41(42,"p")(43,"strong"),t.EFF(44,"Hijo(s) y su grupo:"),t.k0s(),t.EFF(45),t.k0s()()()()()()(),t.nrm(46,"app-footer")),2&n&&(t.Y8G("translucent",!0),t.R7$(11),t.Y8G("fullscreen",!0),t.R7$(10),t.Y8G("alt",t.VkB("Avatar de ",i.nombre))("src",i.imagen,t.B4B),t.R7$(2),t.JRh(i.nombre),t.R7$(2),t.JRh(i.apellido),t.R7$(4),t.SpI(" ",i.tipo_usuario),t.R7$(4),t.SpI(" ",i.correo),t.R7$(4),t.SpI(" ",i.telefono),t.R7$(4),t.SpI(" ",i.hijos),t.R7$(4),t.SpI(" ",i.hijo_grupo))},dependencies:[e.bv,e.mC,e.QW,e.HW,e.hU,e.W9,e.lO,e.eU,e.ln,e.BC,e.ai,e.el,d.t],styles:['@charset "UTF-8";.profile-card[_ngcontent-%COMP%]{max-width:300px;margin:auto;text-align:center}.profile-icon[_ngcontent-%COMP%]{font-size:100px;color:#fff}.profile-bio[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;color:#fff}.img[_ngcontent-%COMP%]{height:auto;max-width:100%}.img-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.logo[_ngcontent-%COMP%]{height:40px;width:auto}.page-usuario[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: #f4f4f4}.page-usuario[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]{margin:10px auto;background:#00703c;box-shadow:0 8px 28px -9px #00000073;position:relative;width:300px;height:600px;border-radius:16px;overflow-y:auto;padding-bottom:10px}.page-usuario[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]{position:absolute;width:400px;height:700px;opacity:.6;left:0;top:0;margin-left:-50%;margin-top:-70%;background:linear-gradient(744deg,#005c2e,#005c2e 60%,#005c2e)}.page-usuario[_ngcontent-%COMP%]   .profile-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:10px auto}.page-usuario[_ngcontent-%COMP%]   .infotop[_ngcontent-%COMP%]{text-align:center;font-size:20px;position:absolute;top:5.6em;left:0;right:0;color:#fff;font-weight:600}.page-usuario[_ngcontent-%COMP%]   .infotop[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .page-usuario[_ngcontent-%COMP%]   .infotop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.page-usuario[_ngcontent-%COMP%]   .infotop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:gold}.page-usuario[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]:nth-child(2), .page-usuario[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]:nth-child(3){top:210px}.page-usuario[_ngcontent-%COMP%]   .playing[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]{border-radius:40%;animation:_ngcontent-%COMP%_wave 3s infinite linear}.page-usuario[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]{border-radius:40%;animation:_ngcontent-%COMP%_wave 55s infinite linear}.page-usuario[_ngcontent-%COMP%]   .playing[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]:nth-child(2){animation-duration:4s}.page-usuario[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]:nth-child(2){animation-duration:50s}.page-usuario[_ngcontent-%COMP%]   .playing[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]:nth-child(3){animation-duration:5s}.page-usuario[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]:nth-child(3){animation-duration:45s}@keyframes _ngcontent-%COMP%_wave{0%{transform:rotate(0)}to{transform:rotate(360deg)}}ion-avatar[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10px auto;--border-radius: 0 !important;width:200px;height:200px}img[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block;margin:0 auto}.boton[_ngcontent-%COMP%]{display:block;margin:20px auto;text-align:center;width:200px;height:80px;font-size:14px;padding:5px 10px}']})}return r})();var p=a(2615);const P=[{path:"",component:C}];let M=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#n=this.\u0275mod=t.$C({type:r});static#o=this.\u0275inj=p.G2t({imports:[l.iI.forChild(P),l.iI]})}return r})(),O=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#n=this.\u0275mod=t.$C({type:r});static#o=this.\u0275inj=p.G2t({imports:[u.MD,h.YN,e.bv,M]})}return r})()}}]);