"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4767],{4767:(j,m,a)=>{a.r(m),a.d(m,{FormularioPageModule:()=>k});var p=a(2200),s=a(4341),e=a(9420),h=a(8132),d=a(467),f=a(9176),C=a(3092),M=a(6682),P=a(8678),o=a(3664),c=a(2615),F=a(3817),_=a(6993);const b=(r,u)=>u.id;function O(r,u){if(1&r&&(o.j41(0,"ion-select-option",8),o.EFF(1),o.k0s()),2&r){const n=u.$implicit;o.Y8G("value",n.id),o.R7$(),o.SpI(" ",n.nombre," ")}}function v(r,u){if(1&r){const n=o.RV6();o.j41(0,"tr")(1,"td"),o.EFF(2),o.k0s(),o.j41(3,"td"),o.EFF(4),o.k0s(),o.j41(5,"td"),o.EFF(6),o.k0s(),o.j41(7,"td"),o.EFF(8),o.k0s(),o.j41(9,"td"),o.EFF(10),o.k0s(),o.j41(11,"td"),o.EFF(12),o.k0s(),o.j41(13,"td")(14,"ion-button",18),o.bIt("click",function(){const i=c.eBV(n).$implicit,l=o.XpG();return c.Njj(l.abrirModalEditarAlumno(i))}),o.nrm(15,"ion-icon",19),o.EFF(16," Editar "),o.k0s(),o.j41(17,"ion-button",20),o.bIt("click",function(){const i=c.eBV(n).$implicit,l=o.XpG();return c.Njj(l.abrirModalEliminarAlumno(i))}),o.nrm(18,"ion-icon",21),o.EFF(19," Eliminar "),o.k0s()()()}if(2&r){const n=u.$implicit;o.R7$(2),o.JRh(n.id),o.R7$(2),o.JRh(n.nombre),o.R7$(2),o.JRh(n.apellido),o.R7$(2),o.JRh(n.correo),o.R7$(2),o.JRh(n.telefono),o.R7$(2),o.Lme("",null==n.tutor?null:n.tutor.nombre," ",null==n.tutor?null:n.tutor.apellido)}}const x=[{path:"",component:(()=>{class r{constructor(n,t,i,l,g){this.fb=n,this.toastController=t,this.modalController=i,this.grupoService=l,this.alumnoService=g,this.isEdit=!1,this.selectedFile=null,this.grupos=[],this.alumnos=[],this.alumnosFiltrados=[],this.grupoSeleccionado=null,this.obtenerGrupos(),this.obtenerAlumnos()}obtenerGrupos(){this.grupoService.obtenerGrupos().subscribe(n=>{this.grupos=n})}obtenerAlumnos(){this.alumnoService.obtenerAlumnos().subscribe({next:n=>{this.alumnos=n,this.filtrarAlumnosPorGrupo()},error:n=>{console.error("Error al obtener alumnos:",n)}})}filtrarAlumnosPorGrupo(){this.alumnosFiltrados=this.grupoSeleccionado?this.alumnos.filter(n=>!!n.grupo&&("number"==typeof n.grupo?n.grupo===this.grupoSeleccionado:"object"==typeof n.grupo&&n.grupo.id===this.grupoSeleccionado)):[]}mostrarToast(n,t){var i=this;return(0,d.A)(function*(){(yield i.toastController.create({message:n,duration:2e3,color:t})).present()})()}onFileSelected(n){this.selectedFile=n.target.files[0]}convertToUpperCase(n,t){const i=n.target.value.toUpperCase();this.formTutoria.get(t)?.setValue(i)}abrirModalAgregarAlumno(){var n=this;return(0,d.A)(function*(){const t=yield n.modalController.create({component:C.Q,componentProps:{alumnos:n.alumnos}});yield t.present(),t.onDidDismiss().then(()=>{n.obtenerAlumnos()})})()}abrirModalEditarAlumno(n){var t=this;return(0,d.A)(function*(){const i=yield t.modalController.create({component:M.e,componentProps:{alumnoSeleccionado:n}});yield i.present(),i.onDidDismiss().then(()=>{t.obtenerAlumnos()})})()}abrirModalEliminarAlumno(n){var t=this;return(0,d.A)(function*(){const i=yield t.modalController.create({component:P.G,componentProps:{alumnoId:n.id}});yield i.present(),i.onDidDismiss().then(()=>{t.obtenerAlumnos()})})()}cerrarModal(){this.modalController.dismiss()}static#o=this.\u0275fac=function(t){return new(t||r)(o.rXU(s.ok),o.rXU(e.K_),o.rXU(e.W3),o.rXU(F.b),o.rXU(_.p))};static#n=this.\u0275cmp=o.VBU({type:r,selectors:[["app-formulario-alumno"]],decls:53,vars:3,consts:[[3,"translucent"],["color","primary",1,"ion-text-center"],["size","12"],["slot","start"],["defaultHref","/","text",""],[1,"ion-padding",3,"fullscreen"],[1,"ion-margin-bottom"],["interface","popover","placeholder","Elige un grupo",3,"ngModelChange","ionChange","ngModel"],[3,"value"],[1,"ion-padding"],[1,"ion-no-padding"],[2,"overflow-x","auto"],[1,"tabla-alumnos"],["fixed",""],[1,"ion-justify-content-center"],["size","12","size-md","6"],["expand","block","color","success",3,"click"],["slot","start","name","person-add-outline"],["size","small","color","warning","fill","clear",3,"click"],["name","create-outline","slot","start"],["size","small","color","danger","fill","clear",3,"click"],["name","trash-outline","slot","start"]],template:function(t,i){1&t&&(o.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-grid")(3,"ion-row")(4,"ion-col",2)(5,"ion-title"),o.EFF(6,"CREDENCIAL DIGITAL"),o.k0s(),o.j41(7,"ion-card-subtitle"),o.EFF(8,"REGISTRO DE ALUMNOS"),o.k0s()()()(),o.j41(9,"ion-buttons",3),o.nrm(10,"ion-back-button",4),o.k0s()()(),o.j41(11,"ion-content",5)(12,"ion-card",6)(13,"ion-card-header")(14,"ion-card-title"),o.EFF(15,"Selecciona un grupo"),o.k0s()(),o.j41(16,"ion-card-content")(17,"ion-select",7),o.mxI("ngModelChange",function(g){return o.DH7(i.grupoSeleccionado,g)||(i.grupoSeleccionado=g),g}),o.bIt("ionChange",function(){return i.filtrarAlumnosPorGrupo()}),o.Z7z(18,O,2,2,"ion-select-option",8,b),o.k0s()()(),o.j41(20,"ion-card",9)(21,"ion-card-header")(22,"ion-card-title"),o.EFF(23,"Lista de Alumnos"),o.k0s()(),o.j41(24,"ion-card-content",10)(25,"div",11)(26,"table",12)(27,"thead")(28,"tr")(29,"th"),o.EFF(30,"ID"),o.k0s(),o.j41(31,"th"),o.EFF(32,"Nombre"),o.k0s(),o.j41(33,"th"),o.EFF(34,"Apellidos"),o.k0s(),o.j41(35,"th"),o.EFF(36,"Email"),o.k0s(),o.j41(37,"th"),o.EFF(38,"Tel\xe9fono"),o.k0s(),o.j41(39,"th"),o.EFF(40,"Tutor"),o.k0s(),o.j41(41,"th"),o.EFF(42,"Acciones"),o.k0s()()(),o.j41(43,"tbody"),o.Z7z(44,v,20,7,"tr",null,o.fX1),o.k0s()()()()(),o.j41(46,"ion-grid",13)(47,"ion-row",14)(48,"ion-col",15)(49,"ion-button",16),o.bIt("click",function(){return i.abrirModalAgregarAlumno()}),o.nrm(50,"ion-icon",17),o.EFF(51," Agregar Alumno "),o.k0s()()()()(),o.nrm(52,"app-footer")),2&t&&(o.Y8G("translucent",!0),o.R7$(11),o.Y8G("fullscreen",!0),o.R7$(6),o.R50("ngModel",i.grupoSeleccionado),o.R7$(),o.Dyx(i.grupos),o.R7$(26),o.Dyx(i.alumnosFiltrados))},dependencies:[e.bv,e.Jm,e.QW,e.b_,e.I9,e.ME,e.HW,e.tN,e.hU,e.W9,e.lO,e.eU,e.iq,e.ln,e.Nm,e.Ip,e.BC,e.ai,e.Je,e.el,s.X1,s.BC,s.YN,s.vS,p.MD,f.t],styles:[".profile-card[_ngcontent-%COMP%]{max-width:300px;margin:auto;text-align:center}.profile-icon[_ngcontent-%COMP%]{font-size:100px;color:#fff}.profile-bio[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;color:#fff}.img[_ngcontent-%COMP%]{height:auto;max-width:100%}.img-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.logo[_ngcontent-%COMP%]{height:40px;width:auto}.page-usuario[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: #f4f4f4}.page-usuario[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]{margin:10px auto;background:#00703c;box-shadow:0 8px 28px -9px #00000073;position:relative;width:300px;height:600px;border-radius:16px;overflow:hidden}.page-usuario[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]{position:absolute;width:400px;height:700px;opacity:.6;left:0;top:0;margin-left:-50%;margin-top:-70%;background:linear-gradient(744deg,#005c2e,#005c2e 60%,#005c2e)}.page-usuario[_ngcontent-%COMP%]   .profile-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:10px auto}.page-usuario[_ngcontent-%COMP%]   .infotop[_ngcontent-%COMP%]{text-align:center;font-size:20px;position:absolute;top:5.6em;left:0;right:0;color:#fff;font-weight:600}.page-usuario[_ngcontent-%COMP%]   .infotop[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .page-usuario[_ngcontent-%COMP%]   .infotop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.page-usuario[_ngcontent-%COMP%]   .infotop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:gold}.page-usuario[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]:nth-child(2), .page-usuario[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]:nth-child(3){top:210px}.page-usuario[_ngcontent-%COMP%]   .playing[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]{border-radius:40%;animation:_ngcontent-%COMP%_wave 3s infinite linear}.page-usuario[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]{border-radius:40%;animation:_ngcontent-%COMP%_wave 55s infinite linear}.page-usuario[_ngcontent-%COMP%]   .playing[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]:nth-child(2){animation-duration:4s}.page-usuario[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]:nth-child(2){animation-duration:50s}.page-usuario[_ngcontent-%COMP%]   .playing[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]:nth-child(3){animation-duration:5s}.page-usuario[_ngcontent-%COMP%]   .wave[_ngcontent-%COMP%]:nth-child(3){animation-duration:45s}@keyframes _ngcontent-%COMP%_wave{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.tabla-alumnos[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px;background:#fff;box-shadow:0 2px 4px #0000000d}.tabla-alumnos[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabla-alumnos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #e0e0e0;text-align:left}.tabla-alumnos[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f9f9f9;color:#333;font-weight:600}.tabla-alumnos[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f0f4f7}ion-button[fill=clear][_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0}"]})}return r})()}];let E=(()=>{class r{static#o=this.\u0275fac=function(t){return new(t||r)};static#n=this.\u0275mod=o.$C({type:r});static#t=this.\u0275inj=c.G2t({imports:[h.iI.forChild(x),h.iI]})}return r})(),k=(()=>{class r{static#o=this.\u0275fac=function(t){return new(t||r)};static#n=this.\u0275mod=o.$C({type:r});static#t=this.\u0275inj=c.G2t({imports:[p.MD,s.YN,e.bv,E]})}return r})()}}]);